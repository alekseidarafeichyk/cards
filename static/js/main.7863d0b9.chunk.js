(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{13:function(e,r,t){e.exports={containerForm:"Register_containerForm__374RV",form:"Register_form__1tDJh",error:"Register_error__2ss3E"}},23:function(e,r,t){e.exports={forgotStyle:"PasswordRecovery_forgotStyle__3qR_w",formForgot:"PasswordRecovery_formForgot__KPRD_",error:"PasswordRecovery_error__1P396"}},25:function(e,r,t){e.exports={link:"NavlinkCommon_link__21JlT",active:"NavlinkCommon_active__2J4uy"}},40:function(e,r,t){e.exports={header:"Header_header__3kZgy"}},41:function(e,r,t){e.exports={routes:"Route_routes__1ggEc"}},44:function(e,r,t){e.exports={input:"Input_input__1GLt5"}},45:function(e,r,t){e.exports={button:"Button_button__1P0gp",buton:"Button_buton__1g8Pz"}},48:function(e,r,t){e.exports={formContainer:"Login_formContainer__3Fd2Z"}},49:function(e,r,t){e.exports={ldsRing:"Loader_ldsRing__37cMZ"}},51:function(e,r,t){e.exports=t(80)},56:function(e,r,t){},57:function(e,r,t){},80:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),o=t(18),s=t.n(o),i=(t(56),t(57),t(40)),l=t.n(i),c=t(12),u=t(25),m=t.n(u),d=function(e){return n.a.createElement(c.b,{to:e.to,className:m.a.link,activeClassName:m.a.active},e.linkName)},p=function(){return n.a.createElement("div",{className:l.a.header},n.a.createElement(d,{to:"/login",linkName:"Login"}),n.a.createElement(d,{to:"/register",linkName:"Register"}),n.a.createElement(d,{to:"/password_recovery",linkName:"Password Recovery"}),n.a.createElement(d,{to:"/new_password",linkName:"New Password"}),n.a.createElement(d,{to:"/profile",linkName:"Profile"}))},E=t(41),f=t.n(E),v=t(1),g=t(3),_=t(15),b=t(22),w=t(44),h=t.n(w),R=n.a.memo((function(e){e.name;var r=e.id,t=Object(b.a)(e,["name","id"]);return n.a.createElement("input",Object.assign({className:h.a.input},t,{id:r}))})),S=t(45),O=t.n(S),y=n.a.memo((function(e){var r=e.name,t=Object(b.a)(e,["name"]);return n.a.createElement("button",Object.assign({className:O.a.button},t),r)})),N=t(8),j=t(47),P=t.n(j).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),A=function(e){return P.post("/auth/forgot",e)},k=function(e){return P.post("/auth/login",Object(g.a)({},e))},T={isAuth:!1},F=t(48),x=t.n(F),I=function(){var e=Object(N.b)(),r=Object(N.c)((function(e){return e.login.isAuth})),t=Object(_.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(r.email="Invalid email address"):r.email="Field is required",e.password||(r.password="Field is required"),r},onSubmit:function(r){var t;e((t=Object(g.a)({},r),function(e){k(Object(g.a)({},t)).then((function(r){e({type:"LOGIN/SET_IS_AUTH",isAuth:!0})})).catch((function(e){var r=e.response?e.response.data.error:e.message;console.log(r)}))}))}});return r?n.a.createElement(v.a,{to:"/"}):n.a.createElement("div",{className:x.a.formContainer},n.a.createElement("form",{onSubmit:t.handleSubmit},n.a.createElement(R,Object.assign({id:"email",type:"text",placeholder:"Enter your email"},t.getFieldProps("email"))),t.errors.email?n.a.createElement("div",null,t.errors.email):null,n.a.createElement(R,Object.assign({id:"password",placeholder:"password",type:"password"},t.getFieldProps("password"))),"remember me ",n.a.createElement("input",Object.assign({type:"checkbox"},t.getFieldProps("rememberMe"))),t.errors.email?n.a.createElement("div",null,t.errors.password):null,n.a.createElement(y,{type:"submit",name:"Sign In"})))},V=t(13),Z=t.n(V),C={isRegistered:!1,serverError:"",status:"idle"},L=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"REGISTER_USER",isRegistered:e,error:r}},U=function(e){return{type:"SET_STATUS",status:e}},M=function(e,r){return function(t){t(U("loading")),function(e,r){return P.post("/auth/register",{email:e,password:r})}(e,r).then((function(e){t(U("succeeded")),t(L(!0))})).catch((function(e){t(U("failed")),t(L(!1,e.response.data.error))}))}},q=t(49),G=t.n(q),$=function(){return n.a.createElement("div",{className:G.a.ldsRing},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))},H=function(){var e=Object(N.b)(),r=Object(N.c)((function(e){return e.register})),t=r.isRegistered,a=r.serverError,o=r.status,s=Object(_.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(r.email="Invalid email address"):r.email="Required",e.password?e.password.length<6&&(r.password="Must be 5 characters or more"):r.password="Required",e.repeatPassword?e.password.length<6&&(r.password="Must be 5 characters or more"):r.repeatPassword="Required",r},onSubmit:function(r){e(M(r.email,r.password))}});if(t)return n.a.createElement(v.a,{to:"/login"});var i=a?n.a.createElement("div",{className:Z.a.error},a):null;return n.a.createElement("div",{className:Z.a.containerForm},n.a.createElement("form",{className:Z.a.form,onSubmit:s.handleSubmit},n.a.createElement(R,Object.assign({type:"text",id:"email",placeholder:"Email"},s.getFieldProps("email"))),s.errors.email?n.a.createElement("div",{className:Z.a.error},s.errors.email):null,n.a.createElement(R,Object.assign({type:"password",id:"password",placeholder:"Password"},s.getFieldProps("password"))),s.errors.password?n.a.createElement("div",{className:Z.a.error},s.errors.password):null,n.a.createElement(R,Object.assign({type:"password",id:"repeatPassword",placeholder:"Repeat password"},s.getFieldProps("repeatPassword"))),s.errors.repeatPassword?n.a.createElement("div",{className:Z.a.error},s.errors.repeatPassword):null,"loading"===o?n.a.createElement($,null):n.a.createElement(y,{type:"submit",name:"Register"})),i)},J={email:"",serverResponse:"",serverError:"",status:"idle"},B=function(e){return{type:"SAVE_SERVER_RESPONSE",answer:e}},D=function(e){return{type:"SAVE_SERVER_ERROR",error:e}},W=function(e){return{type:"SET_STATUS",status:e}},z=t(23),K=t.n(z),Y=function(){var e=Object(N.c)((function(e){return e.passwordRecover})),r=e.serverResponse,t=e.serverError,a=e.status,o=Object(N.b)(),s=Object(_.a)({initialValues:{email:""},validate:function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(r.email="Invalid email address"):r.email="Required",r},onSubmit:function(e){var r={email:e.email,from:"test-front-admin",message:'<div style="background-color: gold; padding: 15px">Password recover link:\n                    <a href="https://alekseidarafeichyk.github.io/cards/#/new_password/$token$">link</a>\n                </div>'};o(function(e){return function(r){r(W("loading")),A(e).then((function(t){r({type:"EMAIL_TO_CHANGE_PASSWORD",email:e.email}),r(B(t.data.info)),r(W("succeeded"))})).catch((function(e){r(D(e.response.data.error)),r(W("failed"))}))}}(r))}});return n.a.createElement("div",{className:K.a.forgotStyle},n.a.createElement("form",{onSubmit:s.handleSubmit,className:K.a.formForgot},n.a.createElement("div",null,"Your Email:"),n.a.createElement(R,Object.assign({placeholder:"Email",id:"email",name:"email",type:"email",onFocus:function(){o(B("")),o(D(""))}},s.getFieldProps("email"))),s.errors.email?n.a.createElement("div",{className:K.a.error},s.errors.email):null,n.a.createElement("div",null,n.a.createElement(y,{type:"submit",name:"Send",disabled:"loading"===a||!!t||!!r}))),"loading"===a?n.a.createElement($,null):null,r||t)},Q=function(){return n.a.createElement("div",null,"NewPassword")},X=function(){return n.a.createElement("div",null,"Profile")},ee=function(){return n.a.createElement("div",{className:f.a.routes},n.a.createElement(v.b,{path:"/login",render:function(){return n.a.createElement(I,null)}}),n.a.createElement(v.b,{path:"/register",render:function(){return n.a.createElement(H,null)}}),n.a.createElement(v.b,{path:"/password_recovery",render:function(){return n.a.createElement(Y,null)}}),n.a.createElement(v.b,{path:"/new_password",render:function(){return n.a.createElement(Q,null)}}),n.a.createElement(v.b,{path:"/profile",render:function(){return n.a.createElement(X,null)}}))},re=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(p,null),n.a.createElement(ee,null))},te=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(c.a,null,n.a.createElement(re,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=t(16),ne=t(50),oe={},se={},ie=Object(ae.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"LOGIN/SET_IS_AUTH":return Object(g.a)({},e,{isAuth:r.isAuth});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,r=arguments.length>1?arguments[1]:void 0;return r.type,e},passwordRecover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"EMAIL_TO_CHANGE_PASSWORD":return Object(g.a)({},e,{email:r.email});case"SAVE_SERVER_RESPONSE":return Object(g.a)({},e,{serverResponse:r.answer});case"SAVE_SERVER_ERROR":return Object(g.a)({},e,{serverError:r.error});case"SET_STATUS":return Object(g.a)({},e,{status:r.status});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"REGISTER_USER":return Object(g.a)({},e,{isRegistered:r.isRegistered,serverError:r.error?r.error:""});case"SET_STATUS":return Object(g.a)({},e,{status:r.status});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,r=arguments.length>1?arguments[1]:void 0;return r.type,e}}),le=Object(ae.d)(ie,Object(ae.a)(ne.a)),ce=le;window.store=le,s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N.a,{store:ce},n.a.createElement(te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[51,1,2]]]);
//# sourceMappingURL=main.7863d0b9.chunk.js.map