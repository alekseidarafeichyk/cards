(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{12:function(e,r,t){e.exports={containerForm:"Register_containerForm__374RV",form:"Register_form__1tDJh",error:"Register_error__2ss3E"}},24:function(e,r,t){e.exports={link:"NavlinkCommon_link__21JlT",active:"NavlinkCommon_active__2J4uy"}},30:function(e,r,t){e.exports={forgotStyle:"PasswordRecovery_forgotStyle__3qR_w",formForgot:"PasswordRecovery_formForgot__KPRD_"}},40:function(e,r,t){e.exports={header:"Header_header__3kZgy"}},41:function(e,r,t){e.exports={routes:"Route_routes__1ggEc"}},42:function(e,r,t){e.exports={input:"Input_input__1GLt5"}},43:function(e,r,t){e.exports={button:"Button_button__1P0gp",buton:"Button_buton__1g8Pz"}},48:function(e,r,t){e.exports={ldsRing:"Loader_ldsRing__37cMZ"}},50:function(e,r,t){e.exports=t(79)},55:function(e,r,t){},56:function(e,r,t){},79:function(e,r,t){"use strict";t.r(r);var a=t(0),n=t.n(a),o=t(17),s=t.n(o),i=(t(55),t(56),t(40)),l=t.n(i),c=t(14),u=t(24),m=t.n(u),d=function(e){return n.a.createElement(c.b,{to:e.to,className:m.a.link,activeClassName:m.a.active},e.linkName)},p=function(){return n.a.createElement("div",{className:l.a.header},n.a.createElement(d,{to:"/login",linkName:"Login"}),n.a.createElement(d,{to:"/register",linkName:"Register"}),n.a.createElement(d,{to:"/password_recovery",linkName:"Password Recovery"}),n.a.createElement(d,{to:"/new_password",linkName:"New Password"}),n.a.createElement(d,{to:"/profile",linkName:"Profile"}))},E=t(41),f=t.n(E),v=t(1),g=function(){return n.a.createElement("div",null,"login")},_=t(22),w=t(42),h=t.n(w),R=n.a.memo((function(e){e.name;var r=e.id,t=Object(_.a)(e,["name","id"]);return n.a.createElement("input",Object.assign({className:h.a.input},t,{id:r}))})),b=t(43),S=t.n(b),y=function(e){var r=e.name,t=Object(_.a)(e,["name"]);return n.a.createElement("button",Object.assign({className:S.a.button},t),r)},N=t(12),O=t.n(N),P=t(21),k=t(10),j=t(11),A=t(47),x=t.n(A).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),F=function(e){return x.post("/auth/forgot",e)},T={isRegistered:!1,serverError:"",status:"idle"},V=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"REGISTER_USER",isRegistered:e,error:r}},C=function(e){return{type:"SET_STATUS",status:e}},I=function(e,r){return function(t){t(C("loading")),function(e,r){return x.post("/auth/register",{email:e,password:r})}(e,r).then((function(e){t(C("succeeded")),t(V(!0))})).catch((function(e){t(C("failed")),t(V(!1,e.response.data.error))}))}},L=t(48),M=t.n(L),G=function(){return n.a.createElement("div",{className:M.a.ldsRing},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))},J=function(){var e=Object(k.b)(),r=Object(k.c)((function(e){return e.register})),t=r.isRegistered,a=r.serverError,o=r.status,s=Object(P.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var r={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(r.email="Invalid email address"):r.email="Required",e.password?e.password.length<6&&(r.password="Must be 5 characters or more"):r.password="Required",e.repeatPassword?e.password.length<6&&(r.password="Must be 5 characters or more"):r.repeatPassword="Required",r},onSubmit:function(r){e(I(r.email,r.password))}});if(t)return n.a.createElement(v.a,{to:"/login"});var i=a?n.a.createElement("div",{className:O.a.error},a):null;return n.a.createElement("div",{className:O.a.containerForm},n.a.createElement("form",{className:O.a.form,onSubmit:s.handleSubmit},n.a.createElement(R,Object.assign({type:"text",id:"email",placeholder:"Email"},s.getFieldProps("email"))),s.errors.email?n.a.createElement("div",{className:O.a.error},s.errors.email):null,n.a.createElement(R,Object.assign({type:"password",id:"password",placeholder:"Password"},s.getFieldProps("password"))),s.errors.password?n.a.createElement("div",{className:O.a.error},s.errors.password):null,n.a.createElement(R,Object.assign({type:"password",id:"repeatPassword",placeholder:"Repeat password"},s.getFieldProps("repeatPassword"))),s.errors.repeatPassword?n.a.createElement("div",{className:O.a.error},s.errors.repeatPassword):null,"loading"===o?n.a.createElement(G,null):n.a.createElement(y,{type:"submit",name:"Register"})),i)},U={email:"",serverResponse:"",serverError:""},Z=function(e){return{type:"SAVE_SERVER_RESPONSE",answer:e}},q=function(e){return{type:"SAVE_SERVER_ERROR",error:e}},B=t(30),D=t.n(B),W=function(){var e=Object(k.c)((function(e){return e.passwordRecover})),r=e.serverResponse,t=e.serverError,a=Object(k.b)(),o=Object(P.a)({initialValues:{email:""},onSubmit:function(e){var r={email:e.email,from:"test-front-admin",message:'<div style="background-color: gold; padding: 15px">Password recover link:\n                    <a href="http://localhost:3000/alekseidarafeichyk/cards#/new_password/$token$">link</a>\n                </div>'};a(function(e){return function(r){F(e).then((function(t){r({type:"EMAIL_TO_CHANGE_PASSWORD",email:e.email}),r(Z(t.data.info))})).catch((function(e){r(q(e.response.data.error))}))}}(r))}});return n.a.createElement("div",{className:D.a.forgotStyle},n.a.createElement("form",{onSubmit:o.handleSubmit,className:D.a.formForgot},n.a.createElement("div",null,"Your Email:"),n.a.createElement(R,{placeholder:"email",id:"email",name:"email",type:"email",onChange:o.handleChange,value:o.values.email,onFocus:function(){a(Z("")),a(q(""))}}),n.a.createElement("div",null,n.a.createElement(y,{type:"submit",name:"Send"}))),r||t)},$=function(){return n.a.createElement("div",null,"NewPassword")},H=function(){return n.a.createElement("div",null,"Profile")},z=function(){return n.a.createElement("div",{className:f.a.routes},n.a.createElement(v.b,{path:"/login",render:function(){return n.a.createElement(g,null)}}),n.a.createElement(v.b,{path:"/register",render:function(){return n.a.createElement(J,null)}}),n.a.createElement(v.b,{path:"/password_recovery",render:function(){return n.a.createElement(W,null)}}),n.a.createElement(v.b,{path:"/new_password",render:function(){return n.a.createElement($,null)}}),n.a.createElement(v.b,{path:"/profile",render:function(){return n.a.createElement(H,null)}}))},K=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(p,null),n.a.createElement(z,null))},Y=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(c.a,null,n.a.createElement(K,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q=t(15),X=t(49),ee={},re={},te={},ae=Object(Q.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,r=arguments.length>1?arguments[1]:void 0;return r.type,e},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,r=arguments.length>1?arguments[1]:void 0;return r.type,e},passwordRecover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"EMAIL_TO_CHANGE_PASSWORD":return Object(j.a)({},e,{email:r.email});case"SAVE_SERVER_RESPONSE":return Object(j.a)({},e,{serverResponse:r.answer});case"SAVE_SERVER_ERROR":return Object(j.a)({},e,{serverError:r.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"REGISTER_USER":return Object(j.a)({},e,{isRegistered:r.isRegistered,serverError:r.error?r.error:""});case"SET_STATUS":return Object(j.a)({},e,{status:r.status});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,r=arguments.length>1?arguments[1]:void 0;return r.type,e}}),ne=Object(Q.d)(ae,Object(Q.a)(X.a)),oe=ne;window.store=ne,s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(k.a,{store:oe},n.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.0f424275.chunk.js.map