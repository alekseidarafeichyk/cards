(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{13:function(e,t,r){e.exports={containerForm:"Register_containerForm__374RV",form:"Register_form__1tDJh",error:"Register_error__2ss3E"}},23:function(e,t,r){e.exports={forgotStyle:"PasswordRecovery_forgotStyle__3qR_w",formForgot:"PasswordRecovery_formForgot__KPRD_",error:"PasswordRecovery_error__1P396"}},25:function(e,t,r){e.exports={link:"NavlinkCommon_link__21JlT",active:"NavlinkCommon_active__2J4uy"}},40:function(e,t,r){e.exports={header:"Header_header__3kZgy"}},41:function(e,t,r){e.exports={routes:"Route_routes__1ggEc"}},44:function(e,t,r){e.exports={input:"Input_input__1GLt5"}},45:function(e,t,r){e.exports={button:"Button_button__1P0gp",buton:"Button_buton__1g8Pz"}},48:function(e,t,r){e.exports={ldsRing:"Loader_ldsRing__37cMZ"}},50:function(e,t,r){e.exports=r(79)},55:function(e,t,r){},56:function(e,t,r){},79:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(18),s=r.n(o),i=(r(55),r(56),r(40)),l=r.n(i),c=r(12),u=r(25),m=r.n(u),d=function(e){return n.a.createElement(c.b,{to:e.to,className:m.a.link,activeClassName:m.a.active},e.linkName)},p=function(){return n.a.createElement("div",{className:l.a.header},n.a.createElement(d,{to:"/login",linkName:"Login"}),n.a.createElement(d,{to:"/register",linkName:"Register"}),n.a.createElement(d,{to:"/password_recovery",linkName:"Password Recovery"}),n.a.createElement(d,{to:"/new_password",linkName:"New Password"}),n.a.createElement(d,{to:"/profile",linkName:"Profile"}))},E=r(41),f=r.n(E),v=r(1),g=r(3),_=r(15),b=r(22),w=r(44),h=r.n(w),R=n.a.memo((function(e){e.name;var t=e.id,r=Object(b.a)(e,["name","id"]);return n.a.createElement("input",Object.assign({className:h.a.input},r,{id:t}))})),S=r(45),O=r.n(S),y=function(e){var t=e.name,r=Object(b.a)(e,["name"]);return n.a.createElement("button",Object.assign({className:O.a.button},r),t)},j=r(8),N=r(47),P=r.n(N).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),A=function(e){return P.post("/auth/forgot",e)},k=function(e){return P.post("/auth/login",Object(g.a)({},e))},T={isAuth:!1},F=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.login.isAuth})),r=Object(_.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Field is required",e.password||(t.password="Field is required"),t},onSubmit:function(t){var r;e((r=Object(g.a)({},t),function(e){k(Object(g.a)({},r)).then((function(t){e({type:"LOGIN/SET_IS_AUTH",isAuth:!0})})).catch((function(e){var t=e.response?e.response.data.error:e.message;console.log(t)}))}))}});return t?n.a.createElement(v.a,{to:"/"}):n.a.createElement("form",{onSubmit:r.handleSubmit},n.a.createElement(R,Object.assign({id:"email",type:"text",placeholder:"Enter your email"},r.getFieldProps("email"))),r.errors.email?n.a.createElement("div",null,r.errors.email):null,n.a.createElement(R,Object.assign({id:"password",placeholder:"password",type:"password"},r.getFieldProps("password"))),"remember me ",n.a.createElement("input",Object.assign({type:"checkbox"},r.getFieldProps("password"))),r.errors.email?n.a.createElement("div",null,r.errors.password):null,n.a.createElement(y,{type:"submit",name:"Sign In"}))},I=r(13),x=r.n(I),V={isRegistered:!1,serverError:"",status:"idle"},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"REGISTER_USER",isRegistered:e,error:t}},U=function(e){return{type:"SET_STATUS",status:e}},L=function(e,t){return function(r){r(U("loading")),function(e,t){return P.post("/auth/register",{email:e,password:t})}(e,t).then((function(e){r(U("succeeded")),r(Z(!0))})).catch((function(e){r(U("failed")),r(Z(!1,e.response.data.error))}))}},q=r(48),G=r.n(q),M=function(){return n.a.createElement("div",{className:G.a.ldsRing},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null))},C=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.register})),r=t.isRegistered,a=t.serverError,o=t.status,s=Object(_.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<6&&(t.password="Must be 5 characters or more"):t.password="Required",e.repeatPassword?e.password.length<6&&(t.password="Must be 5 characters or more"):t.repeatPassword="Required",t},onSubmit:function(t){e(L(t.email,t.password))}});if(r)return n.a.createElement(v.a,{to:"/login"});var i=a?n.a.createElement("div",{className:x.a.error},a):null;return n.a.createElement("div",{className:x.a.containerForm},n.a.createElement("form",{className:x.a.form,onSubmit:s.handleSubmit},n.a.createElement(R,Object.assign({type:"text",id:"email",placeholder:"Email"},s.getFieldProps("email"))),s.errors.email?n.a.createElement("div",{className:x.a.error},s.errors.email):null,n.a.createElement(R,Object.assign({type:"password",id:"password",placeholder:"Password"},s.getFieldProps("password"))),s.errors.password?n.a.createElement("div",{className:x.a.error},s.errors.password):null,n.a.createElement(R,Object.assign({type:"password",id:"repeatPassword",placeholder:"Repeat password"},s.getFieldProps("repeatPassword"))),s.errors.repeatPassword?n.a.createElement("div",{className:x.a.error},s.errors.repeatPassword):null,"loading"===o?n.a.createElement(M,null):n.a.createElement(y,{type:"submit",name:"Register"})),i)},$={email:"",serverResponse:"",serverError:"",status:"idle"},H=function(e){return{type:"SAVE_SERVER_RESPONSE",answer:e}},J=function(e){return{type:"SAVE_SERVER_ERROR",error:e}},B=function(e){return{type:"SET_STATUS",status:e}},D=r(23),W=r.n(D),z=function(){var e=Object(j.c)((function(e){return e.passwordRecover})),t=e.serverResponse,r=e.serverError,a=e.status,o=Object(j.b)(),s=Object(_.a)({initialValues:{email:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",t},onSubmit:function(e){var t={email:e.email,from:"test-front-admin",message:'<div style="background-color: gold; padding: 15px">Password recover link:\n                    <a href="https://alekseidarafeichyk.github.io/cards/#/new_password/$token$">link</a>\n                </div>'};o(function(e){return function(t){t(B("loading")),A(e).then((function(r){t({type:"EMAIL_TO_CHANGE_PASSWORD",email:e.email}),t(H(r.data.info)),t(B("succeeded"))})).catch((function(e){t(J(e.response.data.error)),t(B("failed"))}))}}(t))}});return n.a.createElement("div",{className:W.a.forgotStyle},n.a.createElement("form",{onSubmit:s.handleSubmit,className:W.a.formForgot},n.a.createElement("div",null,"Your Email:"),n.a.createElement(R,Object.assign({placeholder:"Email",id:"email",name:"email",type:"email",onFocus:function(){o(H("")),o(J(""))}},s.getFieldProps("email"))),s.errors.email?n.a.createElement("div",{className:W.a.error},s.errors.email):null,n.a.createElement("div",null,n.a.createElement(y,{type:"submit",name:"Send",disabled:"loading"===a||!!r||!!t}))),"loading"===a?n.a.createElement(M,null):null,t||r)},K=function(){return n.a.createElement("div",null,"NewPassword")},Y=function(){return n.a.createElement("div",null,"Profile")},Q=function(){return n.a.createElement("div",{className:f.a.routes},n.a.createElement(v.b,{path:"/login",render:function(){return n.a.createElement(F,null)}}),n.a.createElement(v.b,{path:"/register",render:function(){return n.a.createElement(C,null)}}),n.a.createElement(v.b,{path:"/password_recovery",render:function(){return n.a.createElement(z,null)}}),n.a.createElement(v.b,{path:"/new_password",render:function(){return n.a.createElement(K,null)}}),n.a.createElement(v.b,{path:"/profile",render:function(){return n.a.createElement(Y,null)}}))},X=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(p,null),n.a.createElement(Q,null))},ee=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(c.a,null,n.a.createElement(X,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=r(16),re=r(49),ae={},ne={},oe=Object(te.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/SET_IS_AUTH":return Object(g.a)({},e,{isAuth:t.isAuth});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;return t.type,e},passwordRecover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL_TO_CHANGE_PASSWORD":return Object(g.a)({},e,{email:t.email});case"SAVE_SERVER_RESPONSE":return Object(g.a)({},e,{serverResponse:t.answer});case"SAVE_SERVER_ERROR":return Object(g.a)({},e,{serverError:t.error});case"SET_STATUS":return Object(g.a)({},e,{status:t.status});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_USER":return Object(g.a)({},e,{isRegistered:t.isRegistered,serverError:t.error?t.error:""});case"SET_STATUS":return Object(g.a)({},e,{status:t.status});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return t.type,e}}),se=Object(te.d)(oe,Object(te.a)(re.a)),ie=se;window.store=se,s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(j.a,{store:ie},n.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[50,1,2]]]);
//# sourceMappingURL=main.67c8de68.chunk.js.map