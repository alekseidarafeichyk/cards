(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),o=a.n(c),l=(a(103),a(104),a(76)),u=a.n(l),i=a(16),s=a(55),d=a.n(s),m=function(e){return r.a.createElement(i.c,{to:e.to,className:d.a.link,activeClassName:d.a.active},e.linkName)},f=function(){return r.a.createElement("div",{className:u.a.header},r.a.createElement(m,{to:"/login",linkName:"Login"}),r.a.createElement(m,{to:"/register",linkName:"Register"}),r.a.createElement(m,{to:"/password_recovery",linkName:"Password Recovery"}),r.a.createElement(m,{to:"/new_password",linkName:"New Password"}),r.a.createElement(m,{to:"/profile",linkName:"Profile"}),r.a.createElement(m,{to:"/packs",linkName:"Packs"}))},E=a(77),p=a.n(E),b=a(6),_=a(4),v=a(21),g=a(93),h=a(80),w=a.n(h),k=r.a.memo((function(e){e.name;var t=e.id,a=Object(g.a)(e,["name","id"]);return r.a.createElement("input",Object.assign({className:w.a.input},a,{id:t}))})),O=a(3),C=a(81),P=a.n(C),j=r.a.memo((function(e){var t=e.name,a=Object(O.a)(e,["name"]);return r.a.createElement("button",Object.assign({className:P.a.button},a),t)})),S=a(2),y=a(17),A=a(83),N=a.n(A).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0"}),T=function(){return N.post("/auth/me",{})},R=function(e){return N.post("/auth/login",Object(_.a)({},e))},x=function(){return N.delete("/auth/me")},D=function(e,t){return N.post("/auth/register",{email:e,password:t})},q=function(e){return N.post("/auth/forgot",{email:e,from:"test-front-admin",message:'<div style="background-color: gold; padding: 15px">Password recover link:\n                    <a href="https://alekseidarafeichyk.github.io/cards/#/new_password/$token$">link</a>\n                </div>'})},F=function(e,t){return N.post("auth/set-new-password",{password:e,resetPasswordToken:t})},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=e.pageCount,n=e.page,r=e.sortPacks,c=e.max,o=e.min,l=e.packName;return N.get("/cards/pack?packName=".concat(l,"&min=").concat(o,"&max=").concat(c,"&pageCount=").concat(a,"&page=").concat(n,"&sortPacks=").concat(r,"&user_id=").concat(t))},M=function(e){return N.post("/cards/pack",{cardsPack:{name:e}})},I=function(e){return N.delete("/cards/pack?id=".concat(e))},G=function(e,t){return N.put("/cards/pack",{cardsPack:{_id:e,name:t}})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return N.get("/cards/card?pageCount=".concat(t,"&page=").concat(a,"&cardsPack_id=").concat(e))},U=function(e,t,a){return N.post("/cards/card",{card:{cardsPack_id:e,question:t,answer:a}})},K=function(e){return N.delete("/cards/card?id=".concat(e))},V=function(e,t,a){return N.put("/cards/card",{card:{_id:e,question:t,comments:a}})},W=function(e,t){return N.put("/cards/grade",{grade:e,card_id:t})},Z={_id:"",email:"",rememberMe:!1,isAdmin:!1,name:"",verified:!1,publicCardPacksCount:0,created:"",updated:"",__v:0,token:"",tokenDeathTime:0,avatar:"Some avatar"},H=function(e){return{type:"SET-DELETE-USER",user:e}},Y={status:"idle"},$=function(e){return{type:"SET_STATUS",status:e}},J={isAuth:!1,status:"idle"},Q=function(e){return{type:"LOGIN/SET_IS_AUTH",isAuth:e}},z=a(51),X=a.n(z),ee=a(84),te=a.n(ee),ae=function(){return r.a.createElement("div",{className:te.a.ldsRing},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},ne=function(){var e=Object(S.b)(),t=Object(S.c)((function(e){return e.login.isAuth})),a=Object(S.c)((function(e){return e.loader.status})),n=Object(v.a)({initialValues:{email:"",password:"",rememberMe:!1},validate:function(e){var t={};return function(e,t){e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Field is required",e.password?e.password.length<6&&(t.password="Must be 5 characters or more"):t.password="Field is required"}(e,t),t},onSubmit:function(t){var a;e((a=Object(_.a)({},t),function(e){e($("loading")),R(Object(y.a)({},a)).then((function(t){e($("succeeded")),e(H(t.data)),e(Q(!0))})).catch((function(t){e($("failed"));var a=t.response?t.response.data.error:t.message;console.log(a)}))}))}});return t?r.a.createElement(b.a,{to:"/profile"}):r.a.createElement("div",{className:X.a.formContainer},r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(k,Object.assign({id:"email",type:"text",placeholder:"Enter your email"},n.getFieldProps("email"))),n.errors.email?r.a.createElement("div",{className:X.a.error},n.errors.email):null,r.a.createElement(k,Object.assign({id:"password",placeholder:"password",type:"password"},n.getFieldProps("password"))),n.errors.password?r.a.createElement("div",{className:X.a.error},n.errors.password):null,"remember me ",r.a.createElement("input",Object.assign({type:"checkbox"},n.getFieldProps("rememberMe"))),"loading"===a?r.a.createElement(ae,null):r.a.createElement(j,{type:"submit",name:"Sign In"})))},re=a(32),ce=a.n(re),oe={isRegistered:!1,serverError:"",status:"idle"},le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{type:"REGISTER_USER",isRegistered:e,error:t}},ue=function(){var e=Object(S.b)(),t=Object(S.c)((function(e){return e.register})),a=t.isRegistered,c=t.serverError,o=Object(S.c)((function(e){return e.loader.status})),l=Object(v.a)({initialValues:{email:"",password:"",repeatPassword:""},validate:function(e){var t={};return function(e,t){e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Field is required",e.password?e.password.length<6&&(t.password="Must be 5 characters or more"):t.password="Field is required",(null===e||void 0===e?void 0:e.repeatPassword)?e.repeatPassword.length<6&&(t.password="Must be 5 characters or more"):t.repeatPassword="Field is required"}(e,t),t},onSubmit:function(t){var a,n;e((a=t.email,n=t.password,function(e){e($("loading")),D(a,n).then((function(t){e($("succeeded")),e(le(!0))})).catch((function(t){e($("failed")),e(le(!1,t.response.data.error))}))}))}});if(Object(n.useEffect)((function(){return function(){e(le(!1))}}),[e]),a)return r.a.createElement(b.a,{to:"/login"});var u=c?r.a.createElement("div",{className:ce.a.error},c):null;return r.a.createElement("div",{className:ce.a.containerForm},r.a.createElement("form",{className:ce.a.form,onSubmit:l.handleSubmit},r.a.createElement(k,Object.assign({type:"text",id:"email",placeholder:"Email"},l.getFieldProps("email"))),l.errors.email?r.a.createElement("div",{className:ce.a.error},l.errors.email):null,r.a.createElement(k,Object.assign({type:"password",id:"password",placeholder:"Password"},l.getFieldProps("password"))),l.errors.password?r.a.createElement("div",{className:ce.a.error},l.errors.password):null,r.a.createElement(k,Object.assign({type:"password",id:"repeatPassword",placeholder:"Repeat password"},l.getFieldProps("repeatPassword"))),l.errors.repeatPassword?r.a.createElement("div",{className:ce.a.error},l.errors.repeatPassword):null,"loading"===o?r.a.createElement(ae,null):r.a.createElement(j,{type:"submit",name:"Register"})),u)},ie={email:"",serverResponse:"",serverError:"",status:"idle"},se=function(e){return{type:"SAVE_SERVER_RESPONSE",answer:e}},de=function(e){return{type:"SAVE_SERVER_ERROR",error:e}},me=a(52),fe=a.n(me),Ee=function(){var e=Object(S.c)((function(e){return e.passwordRecover})),t=e.serverResponse,a=e.serverError,n=Object(S.c)((function(e){return e.loader.status})),c=Object(S.b)(),o=Object(v.a)({initialValues:{email:""},validate:function(e){var t={};return function(e,t){e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Field is required"}(e,t),t},onSubmit:function(e){var t;c((t=e.email,function(e){e($("loading")),q(t).then((function(a){e($("succeeded")),e(function(e){return{type:"EMAIL_TO_CHANGE_PASSWORD",email:e}}(t)),e(se(a.data.info))})).catch((function(t){e($("failed")),e(de(t.response.data.error))}))}))}});return r.a.createElement("div",{className:fe.a.forgotStyle},r.a.createElement("form",{onSubmit:o.handleSubmit,className:fe.a.formForgot},r.a.createElement("div",null,"Your Email:"),r.a.createElement(k,Object.assign({placeholder:"Email",id:"email",name:"email",type:"email",onFocus:function(){c(se("")),c(de(""))}},o.getFieldProps("email"))),o.errors.email?r.a.createElement("div",{className:fe.a.error},o.errors.email):null,r.a.createElement("div",null,r.a.createElement(j,{type:"submit",name:"Send",disabled:"loading"===n||!!a||!!t}))),"loading"===n?r.a.createElement(ae,null):null,t||a)},pe=a(61),be=a.n(pe),_e={info:"",error:""},ve=function(e,t){return{type:"SET_NEW_PASSWORD",info:e,error:t}},ge=r.a.memo((function(){var e=Object(b.f)().token,t=Object(S.b)(),a=Object(S.c)((function(e){return e.newPassword.info})),n=Object(v.a)({initialValues:{newPassword:""},onSubmit:function(a){var n,r;t((n=a.newPassword,r=e,function(e){F(n,r).then((function(t){e(ve(t.data.info,""))})).catch((function(t){e(ve("",t.response.data.error))}))}))}});return a?r.a.createElement(b.a,{to:"/login"}):r.a.createElement("div",{className:be.a.newPasswordContainer},r.a.createElement("form",{onSubmit:n.handleSubmit,className:be.a.formNewPassword},r.a.createElement("div",null,"New Password:"),r.a.createElement(k,Object.assign({placeholder:"new Password",id:"newPassword",name:"newPassword",type:"text"},n.getFieldProps("newPassword"))),r.a.createElement(j,{type:"submit",name:"Send"})))})),he=function(){var e=Object(S.c)((function(e){return e.login.isAuth})),t=Object(S.c)((function(e){return e.profile})),a=Object(S.c)((function(e){return e.loader.status})),n=Object(S.b)();if(!e)return r.a.createElement(b.a,{to:"/login"});return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"name : ",t.name)),r.a.createElement("div",null,r.a.createElement("span",null,"avatar : ",t.avatar)),r.a.createElement("div",null,r.a.createElement("span",null,"publicCardPacksCount : ",t.publicCardPacksCount)),"loading"===a?r.a.createElement(ae,null):r.a.createElement(j,{onClick:function(){n((function(e){e($("loading")),x().then((function(t){e($("succeeded")),e(H({_id:"",email:"",rememberMe:!1,isAdmin:!1,name:"",verified:!1,publicCardPacksCount:0,created:"",updated:"",__v:0,token:"",tokenDeathTime:0,avatar:"Some avatar"})),e(Q(!1))})).catch((function(t){e($("failed"));var a=t.response?t.response.data.error:t.message;console.log(a)}))}))},name:"Logout"}))},we=a(23),ke=a(27),Oe=a.n(ke),Ce=a(50),Pe={packName:"",min:0,max:100,sortPacks:"0cardsCount",page:1,pageCount:4,checkedMyPacks:!1,cardPacksTotalCount:1},je=function(e){return{type:"SET_SORT_PACKS",sortPacks:e}},Se=function(e){return{type:"SET_PAGE",page:e}},ye=function(e){return{type:"SET_CHECKED_MY_PACKS",checked:e}},Ae={cardPacks:[{_id:null,user_id:null,user_name:null,private:null,name:null,path:null,grade:null,shots:null,cardsCount:null,type:null,rating:null,created:null,updated:null,more_id:null,__v:null,deckCover:null}],page:0,pageCount:0,cardPacksTotalCount:0,minCardsCount:0,maxCardsCount:0,token:null,tokenDeathTime:null},Ne=function(e){return function(t,a){var n=a(),r={packName:n.dataGetRequest.packName,min:n.dataGetRequest.min,max:n.dataGetRequest.max,sortPacks:n.dataGetRequest.sortPacks,page:n.dataGetRequest.page,pageCount:n.dataGetRequest.pageCount,checkedMyPacks:n.dataGetRequest.checkedMyPacks,cardPacksTotalCount:n.dataGetRequest.cardPacksTotalCount};L(r,e).then((function(e){t({type:"SET_PACKS_TOTAL_COUNT",TotalCount:e.data.cardPacksTotalCount}),t(Se(e.data.page)),t({type:"SET_PACKS",packs:e.data})})).catch((function(e){alert(e)}))}},Te=function(e){var t=Object(n.useState)(!1),a=Object(we.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(e.name),u=Object(we.a)(l,2),i=u[0],s=u[1],d=Object(S.b)(),m=function(e){d(function(e,t){return function(a){G(e,t).then((function(n){a(function(e,t){return{type:"UPDATE_PACK",id:e,name:t}}(e,t))})).catch((function(e){console.log(Object(_.a)({},e))}))}}(e,i)),o(!1)};return c?r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{className:Oe.a.editButton,name:"ok",onClick:function(){return m(e.id)}}),r.a.createElement(k,{value:i,onChange:function(e){s(e.currentTarget.value)}})):r.a.createElement(r.a.Fragment,null,e.name,r.a.createElement(j,{className:Oe.a.editButton,name:"edit",onClick:function(){o(!0)}}))},Re=a(30),xe=a.n(Re),De=a(46),qe=a.n(De),Fe=qe()(xe.a),Le=function(e,t,a){Fe.fire({title:e,html:r.a.createElement(k,{id:"packName",placeholder:"Enter pack name"}),showCancelButton:!0,confirmButtonText:"Save",confirmButtonColor:"#26c17e",preConfirm:function(){return{packName:document.getElementById("packName").value}}}).then((function(e){var n;e.isConfirmed&&(a((n=e.value.packName,function(e,t){M(n).then((function(t){e({type:"ADD_PACK",pack:t.data.newCardsPack})})).catch((function(e){console.log(Object(_.a)({},e))}))})),xe.a.fire({position:"center",icon:"success",title:t,showConfirmButton:!1,timer:1e3}))}))},Me=r.a.memo((function(){var e=Object(S.c)((function(e){return e.profile._id})),t=Object(S.c)((function(e){return e.dataGetRequest})).checkedMyPacks,a=Object(S.c)((function(e){return e.packs.cardPacks})),n=Object(S.b)(),c=function(e){n(function(e){return function(t,a){I(e).then((function(a){t(function(e){return{type:"DELETE_PACK",id:e}}(e))})).catch((function(e){console.log(Object(_.a)({},e))}))}}(e))};return r.a.createElement("table",{className:Oe.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"CardsCount",r.a.createElement("button",{className:Oe.a.arrow,onClick:function(){n(je("1cardsCount")),n(t?Ne(e):Ne())}},"/\\"),r.a.createElement("button",{className:Oe.a.arrow,onClick:function(){n(je("0cardsCount")),n(t?Ne(e):Ne())}},"\\/")),r.a.createElement("th",null,"Update"),r.a.createElement("th",null,"Url"),r.a.createElement("th",null,r.a.createElement("button",{onClick:function(){Le("Enter name pack","successTittle",n)}},"Add")),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,r.a.createElement(Te,{id:e._id,name:e.name})),r.a.createElement("td",null,e.cardsCount),r.a.createElement("td",null,e.updated),r.a.createElement("td",null,"''"),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return c(e._id)}},"delete")),r.a.createElement("td",null,r.a.createElement(i.b,{to:"/cards/".concat(e._id)},"cards")))}))))})),Ie=a(150),Ge=a(62),Be=a.n(Ge),Ue=a(145),Ke=Object(Ue.a)({root:{width:"100%",color:"black"}}),Ve=r.a.memo((function(e){var t=Ke();return r.a.createElement("div",{className:Be.a.container},r.a.createElement("div",{className:Be.a.value},r.a.createElement("span",null,e.value[0]),r.a.createElement("span",null,e.value[1])),r.a.createElement(Ie.a,{className:t.root,min:e.min,max:e.max,value:e.value,onChange:function(t,a){e.setValue(a)},valueLabelDisplay:"auto","aria-labelledby":"range-slider"}))})),We=a(89),Ze=a.n(We),He=a(148),Ye=a(90),$e=a.n(Ye),Je=a(149),Qe=r.a.memo((function(){var e=Object(S.c)((function(e){return e.dataGetRequest})),t=e.page,a=e.pageCount,n=e.cardPacksTotalCount,c=e.checkedMyPacks,o=Object(S.c)((function(e){return e.profile._id})),l=Object(S.b)(),u=Math.ceil(n/a);return r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){l(function(e){return{type:"SET_PAGE_COUNT",pageCount:e}}(+e.currentTarget.value)),l(c?Ne(o):Ne())}},r.a.createElement("option",{value:4},"4"),r.a.createElement("option",{value:5},"5"),r.a.createElement("option",{value:10},"10"),r.a.createElement("option",{value:20},"20"),r.a.createElement("option",{value:30},"30")),r.a.createElement("div",{className:$e.a.containerPages},r.a.createElement(Je.a,{count:u,color:"secondary",page:t,onChange:function(e,t){l(Se(t)),l(c?Ne(o):Ne())}})))})),ze=r.a.memo((function(){console.log("Packs rendering");var e=Object(S.c)((function(e){return e.dataGetRequest})).checkedMyPacks,t=Object(S.c)((function(e){return e.profile._id})),a=Object(S.b)(),c=Object(S.c)((function(e){return e.packs.maxCardsCount})),o=Object(S.c)((function(e){return e.login.isAuth}));Object(n.useEffect)((function(){o&&a(e?Ne(t):Ne())}),[a,o]);var l=Object(n.useState)([0,0]),u=Object(we.a)(l,2),i=u[0],s=u[1];Object(n.useEffect)((function(){s([0,c])}),[c]);var d=Object(v.a)({initialValues:{search:""},onSubmit:function(n){a({type:"SET_MIN",min:i[0]}),a({type:"SET_MAX",max:i[1]}),a({type:"SET_PACK_NAME",packName:n.search}),a(e?Ne(t):Ne())}});return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:d.handleSubmit,className:Ze.a.formStyle},r.a.createElement(k,Object.assign({placeholder:"Search",id:"search",name:"search",type:"text"},d.getFieldProps("search"))),r.a.createElement(Ve,{value:i,setValue:s,min:0,max:c}),r.a.createElement("div",null,r.a.createElement(j,{type:"submit",name:"Search"}))),r.a.createElement("div",null,r.a.createElement(He.a,{checked:e,onChange:function(){e?(a(ye(!1)),a(Ne())):(a(ye(!0)),a(Ne(t)),s([0,c]))}}),"My cards"),r.a.createElement("h1",null,"Packs"),r.a.createElement(Me,null),r.a.createElement(Qe,null))})),Xe={cards:[{__v:null,_id:null,answer:null,cardsPack_id:null,created:null,grade:null,question:null,rating:null,shots:null,type:null,updated:null,user_id:null}],cardsTotalCount:null,maxGrade:null,minGrade:null,pageCount:null},et=function(e){return function(t){B(e).then((function(e){t({type:"SET_CARDS",cards:e.data})})).catch((function(e){alert(e)}))}},tt=function(e,t){return function(){W(e,t).then((function(e){console.log("then ",e)})).catch((function(e){console.log("err ",Object(_.a)({},e))}))}},at=qe()(xe.a),nt=r.a.memo((function(e){var t=Object(S.c)((function(e){return e.cards.cards})),a=Object(S.b)(),n=function(){at.fire({title:"Add new Card",html:r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{id:"swal-input1",placeholder:"Enter your question"}),r.a.createElement(k,{id:"swal-input2",placeholder:"Enter your answer"})),showCancelButton:!0,confirmButtonText:"Save",confirmButtonColor:"#26c17e",preConfirm:function(){return{question:document.getElementById("swal-input1").value,answer:document.getElementById("swal-input2").value}}}).then((function(t){var n,r,c;t.isConfirmed&&(a((n=e.packId,r=t.value.question,c=t.value.answer,function(e){U(n,r,c).then((function(t){e({type:"ADD_CARD",cards:t.data.newCard})})).catch((function(e){console.log(Object(_.a)({},e))}))})),xe.a.fire("Card was created","","success"))}))},c=function(e){a(function(e){return function(t){K(e).then((function(e){t(function(e){return{type:"DELETE_CARD",id:e}}(e.data.deletedCard._id))})).catch((function(e){console.log(Object(_.a)({},e))}))}}(e))},o=function(e,t,n){at.fire({title:"Update your Card",html:r.a.createElement(r.a.Fragment,null,r.a.createElement(k,{id:"swal-input1",placeholder:t}),r.a.createElement(k,{id:"swal-input2",placeholder:n})),showCancelButton:!0,confirmButtonText:"Save",confirmButtonColor:"#26c17e",preConfirm:function(){return{question:document.getElementById("swal-input1").value,answer:document.getElementById("swal-input2").value}}}).then((function(t){t.isConfirmed&&(a(function(e,t,a){return function(n){V(e,t,a).then((function(r){console.log(r),n(function(e,t,a){return{type:"UPDATE_CARD",id:e,question:t,answer:a}}(e,t,a))})).catch((function(e){console.log(Object(_.a)({},e))}))}}(e,t.value.question,t.value.answer)),xe.a.fire("Card was created","","success"))}))};return r.a.createElement("div",null,r.a.createElement("table",{className:Oe.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Question"),r.a.createElement("th",null,"Answer"),r.a.createElement("th",null,"Grade"),r.a.createElement("th",null,"Update"),r.a.createElement("th",null,"Url"),r.a.createElement("th",null,r.a.createElement("button",{onClick:function(){return n()}},"Add")),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.question),r.a.createElement("td",null,e.answer),r.a.createElement("td",null,e.grade),r.a.createElement("td",null,e.updated),r.a.createElement("td",null,"''"),r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return c(e._id)}},"delete")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return o(e._id,e.question,e.answer)}},"update")))})))))})),rt=function(){var e=Object(b.f)().packId,t=Object(S.b)();return Object(n.useEffect)((function(){t(et(e))}),[t,e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Cards"),r.a.createElement(nt,{packId:e}),r.a.createElement(m,{to:"/learn/".concat(e),linkName:"PLAY"}))},ct=a(64),ot=a.n(ct),lt=a(91),ut=a(53),it=a.n(ut),st=["\u043d\u0435 \u0437\u043d\u0430\u043b","\u0437\u0430\u0431\u044b\u043b","\u0434\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b","\u043f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u043b","\u0437\u043d\u0430\u043b"],dt=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),a=Math.random()*t,n=e.reduce((function(e,t,n){var r=e.sum+(6-t.grade)*(6-t.grade);return{sum:r,id:r<a?n:e.id}}),{sum:0,id:-1});return console.log("test: ",t,a,n),console.log(e[n.id+1]),e[n.id+1]},mt=function(){var e=Object(n.useState)(!1),t=Object(we.a)(e,2),a=t[0],c=t[1],o=Object(S.c)((function(e){return e.cards})).cards,l=Object(n.useState)(!0),u=Object(we.a)(l,2),i=u[0],s=u[1],d=Object(n.useState)(!1),m=Object(we.a)(d,2),f=m[0],E=m[1],p=Object(b.f)().packId,_=Object(n.useState)({_id:"fake",cardsPack_id:"",user_id:"",__v:0,answer:"answer fake",question:"loading....",grade:0,shots:0,type:"",rating:0,created:"",updated:""}),v=Object(we.a)(_,2),g=v[0],h=v[1],w=Object(S.b)();Object(n.useEffect)((function(){return console.log("LearnContainer useEffect"),console.log("cards",o),i&&(w(et(p)),s(!1)),o.length>1&&h(dt(o)),function(){console.log("LearnContainer useEffect off")}}),[w,p,o,i]);var k=function(){var e=Object(lt.a)(ot.a.mark((function e(t){return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(tt(t,g._id));case 2:E(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:it.a.AllLearn},r.a.createElement("div",{className:it.a.question},r.a.createElement("div",null,"Question:"),r.a.createElement("div",null,g.question),r.a.createElement("div",null,r.a.createElement(j,{onClick:function(){return c(!0)},name:"check"}))),a&&r.a.createElement("div",{className:it.a.answer},r.a.createElement("div",null,g.answer),st.map((function(e,t){return r.a.createElement(j,{key:"grade-"+t,onClick:function(){k(t)},name:"".concat(e,"(").concat(++t,")"),disabled:f})})),r.a.createElement("div",null,r.a.createElement(j,{onClick:function(){c(!1),E(!1),o.length>0&&h(dt(o))},name:"next",disabled:!f}))))},ft=function(){return r.a.createElement("div",{className:p.a.routes},r.a.createElement(b.b,{path:"/login",render:function(){return r.a.createElement(ne,null)}}),r.a.createElement(b.b,{path:"/register",render:function(){return r.a.createElement(ue,null)}}),r.a.createElement(b.b,{path:"/password_recovery",render:function(){return r.a.createElement(Ee,null)}}),r.a.createElement(b.b,{path:"".concat("/new_password","/:token"),render:function(){return r.a.createElement(ge,null)}}),r.a.createElement(b.b,{path:"/profile",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(b.b,{path:"/packs",render:function(){return r.a.createElement(ze,null)}}),r.a.createElement(b.b,{path:"/cards/:packId",render:function(){return r.a.createElement(rt,null)}}),r.a.createElement(b.b,{path:"/learn/:packId",render:function(){return r.a.createElement(mt,null)}}))},Et=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(ft,null))},pt=function(){console.log("App");var e=Object(S.b)();return Object(n.useEffect)((function(){e((function(e){T().then((function(t){e(H(t.data)),e(Q(!0))})).catch((function(e){var t=e.response?e.response.data.error:e.message;console.log(t)}))}))}),[e]),r.a.createElement("div",{className:"App"},r.a.createElement(i.a,null,r.a.createElement(Et,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var bt=a(35),_t=a(92),vt=Object(bt.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN/SET_IS_AUTH":return Object(y.a)({},e,{isAuth:t.isAuth});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NEW_PASSWORD":return Object(_.a)({},e,{error:t.error,info:t.info});default:return e}},passwordRecover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL_TO_CHANGE_PASSWORD":return Object(y.a)({},e,{email:t.email});case"SAVE_SERVER_RESPONSE":return Object(y.a)({},e,{serverResponse:t.answer});case"SAVE_SERVER_ERROR":return Object(y.a)({},e,{serverError:t.error});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_USER":return Object(y.a)({},e,{isRegistered:t.isRegistered,serverError:t.error?t.error:""});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-DELETE-USER":return Object(y.a)({},e,{},t.user);default:return e}},loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STATUS":return Object(y.a)({},e,{status:t.status});default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PACKS":return Object(_.a)({},e,{},t.packs);case"ADD_PACK":return Object(_.a)({},e,{cardPacks:[t.pack].concat(Object(Ce.a)(e.cardPacks))});case"DELETE_PACK":return Object(_.a)({},e,{cardPacks:e.cardPacks.filter((function(e){return e._id!==t.id}))});case"UPDATE_PACK":return Object(_.a)({},e,{cardPacks:e.cardPacks.map((function(e){return e._id===t.id?Object(_.a)({},e,{name:t.name}):e}))});default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CARDS":return Object(_.a)({},e,{},t.cards);case"ADD_CARD":return Object(_.a)({},e,{cards:[t.cards].concat(Object(Ce.a)(e.cards))});case"DELETE_CARD":return Object(_.a)({},e,{cards:e.cards.filter((function(e){return e._id!==t.id}))});case"UPDATE_CARD":return Object(_.a)({},e,{cards:e.cards.map((function(e){return e._id===t.id?Object(_.a)({},e,{question:t.question,answer:t.answer}):e}))});default:return e}},dataGetRequest:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PACK_NAME":return Object(_.a)({},e,{packName:t.packName});case"SET_MIN":return Object(_.a)({},e,{min:t.min});case"SET_MAX":return Object(_.a)({},e,{max:t.max});case"SET_SORT_PACKS":return Object(_.a)({},e,{sortPacks:t.sortPacks});case"SET_PAGE":return Object(_.a)({},e,{page:t.page});case"SET_PAGE_COUNT":return Object(_.a)({},e,{pageCount:t.pageCount});case"SET_CHECKED_MY_PACKS":return Object(_.a)({},e,{checkedMyPacks:t.checked});case"SET_PACKS_TOTAL_COUNT":return Object(_.a)({},e,{cardPacksTotalCount:t.TotalCount});default:return e}}}),gt=Object(bt.d)(vt,Object(bt.a)(_t.a)),ht=gt;window.store=gt,o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S.a,{store:ht},r.a.createElement(pt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},27:function(e,t,a){e.exports={table:"Table_table__2zNDP",editButton:"Table_editButton__20u32",arrow:"Table_arrow__1Y0Sd"}},32:function(e,t,a){e.exports={containerForm:"Register_containerForm__1TkN8",form:"Register_form__3jhg_",error:"Register_error__3hqSw"}},51:function(e,t,a){e.exports={formContainer:"Login_formContainer__WWFxh",error:"Login_error__rS7O4"}},52:function(e,t,a){e.exports={forgotStyle:"PasswordRecovery_forgotStyle__25qDt",formForgot:"PasswordRecovery_formForgot__2bykr",error:"PasswordRecovery_error__2zQep"}},53:function(e,t,a){e.exports={AllLearn:"Learn_AllLearn__3Pl4W",question:"Learn_question__1uY7P",answer:"Learn_answer__Anj1c"}},55:function(e,t,a){e.exports={link:"NavlinkCommon_link__21JlT",active:"NavlinkCommon_active__2J4uy"}},61:function(e,t,a){e.exports={newPasswordContainer:"NewPassword_newPasswordContainer__3d0m-",formNewPassword:"NewPassword_formNewPassword__3aaFn"}},62:function(e,t,a){e.exports={container:"CommonSlider_container__I_JcE",value:"CommonSlider_value__30TGB",root:"CommonSlider_root__hWbh9"}},76:function(e,t,a){e.exports={header:"Header_header__3kZgy"}},77:function(e,t,a){e.exports={routes:"Route_routes__1ggEc"}},80:function(e,t,a){e.exports={input:"Input_input__1GLt5"}},81:function(e,t,a){e.exports={button:"Button_button__1P0gp",active:"Button_active__15H3D"}},84:function(e,t,a){e.exports={ldsRing:"Loader_ldsRing__37cMZ"}},89:function(e,t,a){e.exports={formStyle:"Packs_formStyle__24Oxg"}},90:function(e,t,a){},98:function(e,t,a){e.exports=a(128)}},[[98,1,2]]]);
//# sourceMappingURL=main.1a7d481d.chunk.js.map